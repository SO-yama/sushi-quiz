<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¿å¸æ¤œå®š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }
        .quiz-card {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .card-flipper {
            transition: all 0.5s ease-in-out;
        }
        .btn-answer {
            transition: all 0.2s ease;
        }
        .btn-answer:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .correct {
            background-color: #22c55e !important; /* green-500 */
            border-color: #16a34a !important; /* green-600 */
            color: white !important;
        }
        .incorrect {
            background-color: #ef4444 !important; /* red-500 */
            border-color: #dc2626 !important; /* red-600 */
            color: white !important;
        }
        #result-card {
             background: linear-gradient(135deg, #fde68a, #f59e0b);
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div id="sushi-quiz-container" class="w-full max-w-2xl mx-auto p-4">
        <!-- Start Screen -->
        <div id="start-screen" class="text-center p-8 bg-white rounded-xl shadow-lg">
            <img src="https://placehold.co/150x150/FBBF24/FFFFFF?text=ğŸ£" alt="å¯¿å¸ã®ã‚¢ã‚¤ã‚³ãƒ³" class="mx-auto mb-6 rounded-full">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">å¯¿å¸æ¤œå®š</h1>
            <p class="text-gray-600 mb-8">ã‚ãªãŸã®å¯¿å¸çŸ¥è­˜ã¯ã©ã®ãƒ¬ãƒ™ãƒ«ï¼Ÿ<br>è…•è©¦ã—ã«æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼</p>
            <button id="start-button" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded-full text-xl transition-transform transform hover:scale-105 shadow-md">
                æ¤œå®šã‚¹ã‚¿ãƒ¼ãƒˆï¼
            </button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h2 id="question-number" class="text-xl font-bold text-amber-600"></h2>
                    <div class="text-lg font-semibold text-gray-700">ã‚¹ã‚³ã‚¢: <span id="score">0</span></div>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                    <div id="progress-bar" class="bg-amber-500 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
                <p id="question-text" class="text-xl sm:text-2xl font-medium text-gray-800 mb-8 min-h-[100px] flex items-center"></p>
                <div id="answer-buttons" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Answer buttons will be inserted here by JS -->
                </div>
                <div id="feedback" class="mt-6 text-center text-2xl font-bold"></div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center p-8 bg-white rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">æ¤œå®šçµæœ</h2>
            <div id="result-card" class="p-8 rounded-lg mb-6 text-white shadow-inner">
                <p class="text-xl">ã‚ãªãŸã®ã‚¹ã‚³ã‚¢ã¯...</p>
                <p id="final-score" class="text-6xl font-bold my-4"></p>
                <p id="result-title" class="text-3xl font-bold"></p>
                <p id="result-message" class="mt-2 text-lg"></p>
            </div>
            <button id="restart-button" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded-full text-xl transition-transform transform hover:scale-105 shadow-md">
                ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦
            </button>
            
            <!-- Share Buttons -->
            <div class="mt-8">
                <p class="text-gray-600 mb-4">çµæœã‚’ã‚·ã‚§ã‚¢ã™ã‚‹</p>
                <a id="twitter-share-button" href="#" target="_blank" class="inline-flex items-center bg-[#1DA1F2] text-white font-bold py-2 px-6 rounded-full hover:bg-[#0c85d0] transition-colors duration-300">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg>
                    <span>Twitterã§ã‚·ã‚§ã‚¢</span>
                </a>
            </div>
        </div>
    </div>

    <script>
    // --- DOM Elements ---
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    
    const startButton = document.getElementById('start-button');
    const restartButton = document.getElementById('restart-button');

    const questionNumberEl = document.getElementById('question-number');
    const scoreEl = document.getElementById('score');
    const progressBar = document.getElementById('progress-bar');
    const questionTextEl = document.getElementById('question-text');
    const answerButtonsEl = document.getElementById('answer-buttons');
    const feedbackEl = document.getElementById('feedback');
    
    const finalScoreEl = document.getElementById('final-score');
    const resultTitleEl = document.getElementById('result-title');
    const resultMessageEl = document.getElementById('result-message');
    const twitterShareButton = document.getElementById('twitter-share-button');

    // --- Quiz Data ---
    const quizData = [
        {
            question: "å¯¿å¸å±‹ã§ä½¿ã‚ã‚Œã‚‹ã€Œã‚¬ãƒªã€ã¨ã¯ã€ä½•ã®é‡èœã‚’ç”˜é…¢ã«æ¼¬ã‘ãŸã‚‚ã®ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["ç”Ÿå§œ", "å¤§æ ¹", "ãã‚…ã†ã‚Š"],
            correct: 0
        },
        {
            question: "å¯¿å¸ãƒã‚¿ã®ã€Œãƒˆãƒ­ã€ã¨ã¯ã€ãƒã‚°ãƒ­ã®ã©ã®éƒ¨ä½ã‚’æŒ‡ã™ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["èƒŒä¸­", "è…¹", "å°¾"],
            correct: 1
        },
        {
            question: "è»è‰¦å·»ãã‚’ç™ºæ˜ã—ãŸã¨è¨€ã‚ã‚Œã‚‹ã€éŠ€åº§ã®æœ‰åãªãŠå¯¿å¸å±‹ã•ã‚“ã®åå‰ã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["ä¹…å…µè¡›", "ã™ãã‚„ã°ã—æ¬¡éƒ", "å¯¿å¸å¹¸æœ¬åº—"],
            correct: 0
        },
        {
            question: "å¯¿å¸é£¯ã®ã“ã¨ã‚’ã€Œã‚·ãƒ£ãƒªã€ã¨å‘¼ã³ã¾ã™ãŒã€ãã®èªæºã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["ãŠç±³ã®ãƒ–ãƒ©ãƒ³ãƒ‰å", "ãŠé‡ˆè¿¦æ§˜ã®éª¨ï¼ˆä»èˆåˆ©ï¼‰", "ä½œã£ãŸè·äººã®åå‰"],
            correct: 1
        },
        {
            question: "ã€Œã„ãªã‚Šå¯¿å¸ã€ã«ä½¿ã‚ã‚Œã‚‹ä¸»ãªé£Ÿæã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["æ²¹æšã’", "åµç„¼ã", "æµ·è‹”"],
            correct: 0
        },
        {
            question: "å¯¿å¸ã‚’æ•°ãˆã‚‹æ™‚ã®æ­£ã—ã„åŠ©æ•°è©ï¼ˆå˜ä½ï¼‰ã¯æ¬¡ã®ã†ã¡ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["ä¸€å€‹ã€äºŒå€‹", "ä¸€è²«ã€äºŒè²«", "ä¸€çš¿ã€äºŒçš¿"],
            correct: 1
        },
        {
            question: "ã€Œå…‰ã‚Šç‰©ã€ã¨å‘¼ã°ã‚Œã‚‹å¯¿å¸ãƒã‚¿ã«åˆ†é¡ã•ã‚Œãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["ã‚¢ã‚¸", "ã‚¤ãƒ¯ã‚·", "ã‚¢ãƒŠã‚´"],
            correct: 2
        },
        {
            question: "ã€Œæ¶™å·»ãã€ã¨ã„ã†å·»ãå¯¿å¸ã«ã¯ã€ä½•ãŒå¤§é‡ã«å…¥ã£ã¦ã„ã‚‹ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["å”è¾›å­", "ã«ã‚“ã«ã", "ã‚ã•ã³"],
            correct: 2
        },
        {
            question: "æ±Ÿæˆ¸å‰å¯¿å¸ã§ã€ãƒã‚¿ã«æ–½ã™ä¸å¯§ãªä»•äº‹ã‚’æŒ‡ã™è¨€è‘‰ã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["ä»•è¾¼ã¿", "æ®µå–ã‚Š", "ä»•äº‹"],
            correct: 2
        },
        {
            question: "é‰„ç«å·»ãã®ã€Œé‰„ç«ã€ã®ç”±æ¥ã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ",
            answers: ["é‰„ã®ã‚ˆã†ã«ç¡¬ã„ãƒã‚°ãƒ­", "ç†±ã—ãŸé‰„ã®ä¸Šã§ç„¼ã„ãŸã‹ã‚‰", "è³­åšå ´ï¼ˆé‰„ç«å ´ï¼‰ã§é£Ÿã¹ã‚‰ã‚ŒãŸã‹ã‚‰"],
            correct: 2
        }
    ];

    // --- State Variables ---
    let currentQuestionIndex = 0;
    let score = 0;

    // --- Functions ---
    function startQuiz() {
        // Shuffle quiz data for randomness
        quizData.sort(() => Math.random() - 0.5);
        currentQuestionIndex = 0;
        score = 0;
        scoreEl.innerText = 0;
        feedbackEl.innerText = '';
        startScreen.classList.add('hidden');
        resultScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        // Reset feedback and styles from previous question
        feedbackEl.textContent = '';
        
        const currentQuestion = quizData[currentQuestionIndex];

        // Update progress
        questionNumberEl.innerText = `ç¬¬ ${currentQuestionIndex + 1} å•`;
        const progressPercentage = ((currentQuestionIndex) / quizData.length) * 100;
        progressBar.style.width = `${progressPercentage}%`;

        // Update question text
        questionTextEl.innerText = currentQuestion.question;

        // Clear old answer buttons
        answerButtonsEl.innerHTML = '';

        // Create new answer buttons
        currentQuestion.answers.forEach((answer, index) => {
            const button = document.createElement('button');
            button.innerText = answer;
            button.classList.add('btn-answer', 'w-full', 'bg-white', 'hover:bg-amber-100', 'text-gray-700', 'font-semibold', 'py-4', 'px-4', 'border', 'border-gray-300', 'rounded-lg', 'shadow-sm');
            button.dataset.index = index;
            button.addEventListener('click', selectAnswer);
            answerButtonsEl.appendChild(button);
        });
    }

    function selectAnswer(e) {
        const selectedButton = e.target;
        const selectedAnswerIndex = parseInt(selectedButton.dataset.index);
        const correctAnserIndex = quizData[currentQuestionIndex].correct;

        // Disable all buttons after an answer is chosen
        Array.from(answerButtonsEl.children).forEach(button => {
            button.disabled = true;
            // Highlight the correct answer
            if (parseInt(button.dataset.index) === correctAnserIndex) {
                 button.classList.add('correct');
            }
        });

        // Check if the answer is correct
        if (selectedAnswerIndex === correctAnserIndex) {
            score++;
            scoreEl.innerText = score;
            selectedButton.classList.add('correct');
            feedbackEl.innerText = 'æ­£è§£ï¼';
            feedbackEl.classList.remove('text-red-500');
            feedbackEl.classList.add('text-green-500');

        } else {
            selectedButton.classList.add('incorrect');
            feedbackEl.innerText = `ä¸æ­£è§£... æ­£è§£ã¯ã€Œ${quizData[currentQuestionIndex].answers[correctAnserIndex]}ã€`;
            feedbackEl.classList.remove('text-green-500');
            feedbackEl.classList.add('text-red-500');
        }

        // Move to the next question or show results
        setTimeout(() => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }, 2000); // Wait 2 seconds before next question
    }

    function showResults() {
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        
        // Final progress bar update
        progressBar.style.width = '100%';

        finalScoreEl.innerText = `${quizData.length}å•ä¸­ ${score}å•æ­£è§£ï¼`;

        let title = '';
        let message = '';

        if (score <= 3) {
            title = 'å¯¿å¸è¦‹ç¿’ã„';
            message = 'ã¾ã ã¾ã ä¼¸ã³ã—ã‚ãŒã‚ã‚Šã¾ã™ã­ï¼ã¾ãŸæŒ‘æˆ¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼';
        } else if (score <= 6) {
            title = 'å¯¿å¸å¥½ã';
            message = 'ãªã‹ãªã‹ã®çŸ¥è­˜ã§ã™ï¼é€šã¸ã®é“ã¯ã‚‚ã†ã™ãï¼';
        } else if (score <= 9) {
            title = 'å¯¿å¸é€š';
            message = 'ç´ æ™´ã‚‰ã—ã„ï¼ã‚ãªãŸãŒã„ã‚Œã°ç™¾äººåŠ›ï¼';
        } else {
            title = 'å¯¿å¸åäºº';
            message = 'ãŠè¦‹äº‹ï¼ã‚ãªãŸã“ãçœŸã®å¯¿å¸ãƒã‚¹ã‚¿ãƒ¼ã§ã™ï¼';
        }
        
        resultTitleEl.innerText = title;
        resultMessageEl.innerText = message;
        
        // Update Twitter share link
        const shareText = `å¯¿å¸æ¤œå®šã§ã€Œ${title}ã€ã®ç§°å·ã‚’ã‚²ãƒƒãƒˆã—ã¾ã—ãŸï¼ğŸ‰ (${score}å•æ­£è§£) ã‚ãªãŸã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼`;
        // It's better to use a fixed URL for the application
        const shareUrl = "https://your-quiz-app-url.com"; // Replace with your actual URL
        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&hashtags=å¯¿å¸æ¤œå®š`;
        
        twitterShareButton.href = twitterUrl;
    }


    // --- Event Listeners ---
    startButton.addEventListener('click', startQuiz);
    restartButton.addEventListener('click', () => {
        resultScreen.classList.add('hidden');
        startScreen.classList.remove('hidden');
    });

    </script>
</body>
</html>
